sequenceDiagram
    activate Application
    loop wait until data is available
        Application->>Kernel: system call
        deactivate Application
        activate Kernel
        Note right of Kernel: wait for data
        Kernel-->>Application: no data available
    end
    deactivate Kernel
    activate Application
    Application->>Kernel: system call
    deactivate Application
    activate Kernel
    Note right of Kernel: read data
    Kernel-->>Application: returned data
    deactivate Kernel
    activate Application
    deactivate Application
